<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>AI CRM</title>

        <!-- jQuery -->
        <!-- Bootstrap -->
        <link rel="preconnect" href="https://fonts.gstatic.com" />
        <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300&display=swap" rel="stylesheet" />
        <link rel="stylesheet" href="/iframe-rsc/COUPONCREATE/CSS/tui-pagination.css" />
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.0/font/bootstrap-icons.css" />
        <link rel="stylesheet" href="https://cdn.datatables.net/1.10.21/css/dataTables.bootstrap4.min.css" />
        <link rel="stylesheet" href=" https://cdn.datatables.net/select/1.3.1/css/select.dataTables.min.css" />
        <link rel="stylesheet" type="text/css" href="/iframe-rsc/COUPONCREATE/CSS/dataTables.checkboxes.css" />
        <link href="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.6.1/css/bootstrap4-toggle.min.css" rel="stylesheet" />

        <%-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" /> --%>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css"/>
        <link rel="stylesheet" href="/iframe-rsc/COUPONCREATE/CSS/couponcreate.css" />
        <link rel="stylesheet" href="${NC_MSG_SERVER}/css/app.css">
        <link rel="stylesheet" href="/tableau_extension/msgSendExtension.css">
    </head>
    <style>
        .card{
        box-shadow: none  !important;
        margin-bottom: 0 !important;
        }
        .col-form-label{
            max-width:195px;
        }
        a:focus {
            outline: none;
        }
        .th-mid {
            width: 140px;
            vertical-align: middle !important;
            text-align: center;
        }
    </style>
    <body>
        <input type='hidden' id="childInput" name="childInput" value='' />
        <div class="container-xl my-4" >
            <%-- alert --%>
            <div class="alert alert-info alert-dismissable py-3" style="border-color:transparent;">
                <span class="glyphicon glyphicon-certificate"></span>
                <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                해당 페이지는 이미 선택하신 고객들 대상으로 <strong>'쿠폰지급 및 메시지발송'</strong> 을 할 수 있는 페이지입니다.
                <p class="mt-1 mb-0" style="font-size:.8rem; color: red; padding-left: 11px;">📣 페이지를 새로고침하시면 고객 명단이 사라지므로, 새로고침 하였을 경우에는 분석화면에서 다시 '쿠폰지급' 버튼을 클릭해야합니다</p>
            </div>
            <div class="nav-bg mt-3 bg-blue" style=" border-top-left-radius:1.6rem; border-top-right-radius:1.5rem;">
                <ul class="nav nav-tabs"role="tablist">
                    <li class="nav-item">
                    <span class="nav-link active links" id="couponCreateTab" data-toggle="tab" href="#couponCreates" role="tab" aria-controls="couponCreates" aria-selected="true" style="border-top-left-radius:1.5rem; border-top-right-radius:1.5rem; padding:.7rem 1.5rem; cursor:pointer;" ><i class="fas fa-plus-circle mr-2"></i>쿠폰 생성하기</span>
                    </li>
                    <li class="nav-item">
                    <%-- onclick='groupclick_after("coupongiveTab","coupongives")' --%>
                    <span class="nav-link links" id="coupongiveTab" data-toggle="tab" href="#coupongives" role="tab" aria-controls="coupongives" aria-selected="false" style="border-top-left-radius:1.5rem; border-top-right-radius:1.5rem;  padding:.7rem 1.5rem; cursor:pointer;" ><i class="fas fa-hand-holding-usd mr-2"></i>쿠폰 지급하기</span>
                    </li>
                    <%-- <li class="nav-item">
                    <span class="nav-link text-white links" id="msgSendTab" data-toggle="tab" href="#msgSends" role="tab" aria-controls="msgSends" aria-selected="false" style="border-top-left-radius:1.5rem; border-top-right-radius:1.5rem;  padding:.7rem 1.5rem; cursor:pointer;"  onclick='changeCss("msgSendTab","msgSends")' ><i class="fas fa-comment-dots mr-2"></i>메시지 보내기</span>
                    </li> --%>
                </ul>
            </div>
            <div class="tab-content" id="pills-tabContent">
                <div class="tab-pane fade show active" id="couponCreates" role="tabpanel" aria-labelledby="couponCreateTab">
                    <div class="card card-body" style="padding-top: 12px; border-top:none;">
                        <div>
                            <p class="text-blue font-weight-bold" style="font-size:1.3rem; margin-bottom:.7rem;"><i class="bi bi-check2 mr-1"></i>자동 설정 사항</p>                          
                            <div class="card">
                            <%-- flex하여 왼쪽은 유저 오른쪽은 상품 --%>
                                <div class="card-body d-flex" style="background-color:#E3F2FD;">
                                    <div class="w-50">
                                        <p class="text-muted " style="font-size:1rem;margin-bottom:0.8rem;">쿠폰 생성 대상 고객 수 : <b id="targetUsers_count"></b></p>
                                        <p class="text-muted " style="font-size:1rem;margin-bottom:0;">쿠폰 생성 대상 고객 명단 : <button class="btn btn-secondary btn-sm" type="button" data-toggle="collapse" data-target="#user_lists" aria-expanded="false" aria-controls="user_lists">확인하기</button></p>
                                        <div class="collapse" id="user_lists"><b id="targetUsers" class="text-muted smallFont"></b></div>
                                    </div>
                                    <div class="w-50">
                                        <p class="text-muted " style="font-size:1rem;margin-bottom:0.8rem;">쿠폰 적용 상품 : 고객별 추천 상품 <b id="recoGoodsCount" class="text-blue">5개</b>가 자동 적용되어 쿠폰이 생성됩니다</p>
                                        <div>
                                            <label class="text-muted" for="recoGoodsRange">추천상품 개수 설정 : <span>1개</span></label>
                                            <input type="range" style="padding-top:8px; width:250px;" class="custom-range" min="1" max="10" step="1" value="5" id="recoGoodsRange" oninput="recoGoodsCountChange(this,'recoGoodscount');" disabled >
                                            <label class="text-muted">10개</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <form name="smart_coupon" class="was-validated" >
                                <input type="hidden" name="use_condition" value="_RECO_">
                                <input type="hidden" name="use_device" value="PC,MOBILE,APP">
                                <input type="hidden" name="use_except_condition" value="ALL">
                                <p class="text-blue font-weight-bold mt-4" style="font-size:1.3rem; margin-bottom:.7rem;"><i class="bi bi-check2-all mr-1"></i>수동 설정 사항</p>     
                                <div id="accordion" class="mb-3">
                                    <div class="card" id="headingOne" >
                                        <div class="card-header bg-blue">
                                            <h5 class="mb-0">
                                                <button
                                                    class="btn btn-link accordion-button btn-block text-left text-white font-weight-bold"
                                                    type="button" data-toggle="collapse" data-target="#benefitOne"
                                                    aria-expanded="true" aria-controls="benefitOne"
                                                    style="padding: 0">
                                                    <i class="fas fa-money-check-alt mr-2"></i>혜택
                                                </button>
                                            </h5>
                                        </div>
                                        <div id="benefitOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordion">
                                            <div class="border rounded-bottom">
                                                <%-- <p class="text-white bg-blue py-2 px-3 font-weight-bold" style="font-size:1.2rem;margin-bottom:0;">혜택</p> --%>
                                                <div class="d-flex py-3 px-4">
                                                    <div class="w-50">
                                                        <p class="text-muted mb-1">쿠폰 유형 : </p>
                                                        <select
                                                            id="coupon_target"
                                                            name="coupon_target"
                                                            class="custom-select custom-select-sm"
                                                            style="width: 210px"
                                                            onchange="useConditionRender();" required
                                                        >
                                                            <option value="PRD">상품쿠폰</option>
                                                            <option value="PRD_DUP">상품중복쿠폰</option>
                                                            <option value="ORDER">장바구니쿠폰</option>
                                                            <option value="ORDER_DUP">장바구니중복쿠폰</option>
                                                            <option value="DELIVERY">배송비쿠폰</option>
                                                        </select>
                                                    </div>
                                                    <div class="w-50">
                                                        <p class="text-muted mb-1">쿠폰 혜택 설정 : </p>
                                                        <select id="benefit" name="benefit" class="custom-select custom-select-sm" style="width: 200px" onchange="benefitTypeRender(this);" required>
                                                            <option value="DISCOUNT">할인</option>
                                                            <option value="RESERVE">적립</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div >
                                                    <div id="tempheader">
                                                        <div class="d-flex py-3 px-4" id="conditionAndOpt">
                                                            <div class="w-50">
                                                                <p class="text-muted mb-1">쿠폰 사용 조건 : </p>
                                                                <div class="form-inline" style="font-size: 0.8rem" id="min_product_price_wrapper">
                                                                    <!-- 상품쿠폰일때 -->
                                                                    <label class="form-check-label"> 상품금액 </label>
                                                                    <input class="form-control form-control-sm ml-2"  type="text" onkeyup="inputNumberFormat(this);" maxlength="9" name="min_product_price" required/>
                                                                    <label class="form-check-label ml-1"> 원 이상 사용 가능 </label>
                                                                </div>
                                                            </div>
                                                            <div class="w-50" id="optionInclude">
                                                                <p class="text-muted mb-1">옵션 포함 여부 : </p>
                                                                <div class="form-inline" style="font-size: 0.8rem">
                                                                    <div class="form-inline">
                                                                        <input class="form-check-input" type="radio" name="in_option_price" value="Y" checked/>
                                                                        <label class="form-check-label mr-2" for="in_option_price">옵션 포함</label>
                                                                        <input class="form-check-input" type="radio" name="in_option_price" value="N" />
                                                                        <label class="form-check-label mr-2" for="in_option_price">옵션 미포함</label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="d-flex py-3 px-4" id="discountAndMax">
                                                            <div class="w-50">
                                                                <p class="text-muted mb-1">할인 혜택 설정 : </p>
                                                                <div class="form-inline" style="font-size:.8rem;">
                                                                    <input  type="text" onkeyup="inputNumberFormat(this);" maxlength="9" name="discount_price" id="discount_price" value="" class="form-control form-control-sm"  required/>
                                                                    <select
                                                                        id="discount_type"
                                                                        name="discount_type"
                                                                        class="custom-select custom-select-sm ml-2 mr-1"
                                                                        style="width: 80px"
                                                                        onchange="wonPercentRender(this,'discount');"
                                                                    >
                                                                        <option value="WON" selected="selected">원</option>
                                                                        <option value="PERCENT">%</option>
                                                                    </select>
                                                                    <span class="discount_unit" style="display: inline-block">
                                                                        할인
                                                                        <select
                                                                            name="discount_trim_unit"
                                                                            id="discount_trim_unit"
                                                                            class="custom-select custom-select-sm mx-1"
                                                                            style="display: none"
                                                                            onchange="afterJulsa(this,'discount');" required
                                                                        >
                                                                            <option value="0">절사안함</option>
                                                                            <option value="1">원</option>
                                                                            <option value="10">십원</option>
                                                                            <option value="100">백원</option>
                                                                            <option value="1000">천원</option>
                                                                        </select>
                                                                        <span class="discount_trim" style="display: none">
                                                                            단위로
                                                                            <select name="discount_trim_type" id="discount_trim_type" class="custom-select custom-select-sm" required>
                                                                                <option value="floor">절사</option>
                                                                                <option value="round">반올림</option>
                                                                                <option value="ceil">올림</option>
                                                                            </select>
                                                                        </span>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                            <div class="w-50">
                                                                <p class="text-muted mb-1">최대 할인 금액 설정 : </p>
                                                                <div class="form-inline" style="font-size: 0.8rem">
                                                                    <div class="form-inline" id="wonselect">
                                                                        <input  type="text" onkeyup="inputNumberFormat(this);" maxlength="2"  name="discount_max_percent" id="discount_max_percent" class="form-control form-control-sm" required/>
                                                                        <label class="form-check-label mx-2" id="perPriceSpan">%</label>
                                                                        <select
                                                                            name="discount_max_trim_unit"
                                                                            id="discount_max_trim_unit"
                                                                            class="custom-select custom-select-sm"
                                                                            onchange="afterJulsa(this,'discount_max');" required
                                                                        >
                                                                            <option value="0">절사안함</option>
                                                                            <option value="1">원</option>
                                                                            <option value="10">십원</option>
                                                                            <option value="100">백원</option>
                                                                            <option value="1000">천원</option>
                                                                        </select>
                                                                        <span class="discount_max_trim" style="display: none">
                                                                            단위로
                                                                            <select name="discount_max_trim_type" id="discount_max_trim_type" class="custom-select custom-select-sm" required>
                                                                                <option value="floor">절사</option>
                                                                                <option value="round">반올림</option>
                                                                                <option value="ceil">올림</option>
                                                                            </select>
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card" id="conditionOneTab">
                                        <div class="card-header bg-blue" id="conitionOneHeader">
                                            <h5 class="mb-0">
                                                <button
                                                    class="btn btn-link collapsed accordion-button btn-block text-left text-white font-weight-bold"
                                                    type="button"
                                                    data-toggle="collapse"
                                                    data-target="#conditionOne"
                                                    aria-expanded="false"
                                                    aria-controls="conditionOne"
                                                    style="padding: 0; opacity:1;" 
                                                >
                                                    <i class="fas fa-clipboard-list mr-2"></i>조건
                                                </button>
                                            </h5>
                                        </div>
                                        <div id="conditionOne" class="collapse" aria-labelledby="conditionOneHeader" data-parent="#accordion">
                                            <div class="border rounded-bottom">
                                                <%-- <p class="text-white bg-blue py-2 px-3 font-weight-bold" style="font-size:1.2rem;margin-bottom:0;">조건</p> --%>
                                                <div class="d-flex py-3 px-4">
                                                    <div class="w-50">
                                                        <p class="text-muted mb-1">발급기간 : </p>
                                                        <div class="form-inline smallFont" >
                                                            <input type="datetime-local" class="form-control form-control-sm mr-1 smallFont" id="issue_sdate" name="issue_sdate" required/>
                                                            <label class="form-check-label mx-2">~</label>
                                                            <input type="datetime-local" class="form-control form-control-sm mr-1 ml-2 smallFont" id="issue_edate" name="issue_edate" required disabled/>
                                                            <div class="form-check ml-2">
                                                                <input
                                                                    class="form-check-input smallFont"
                                                                    type="checkbox"
                                                                    id="issue_unlimit"
                                                                    onclick="endDateDisable({dates:'issue_edate', hours:'issue_ehour', mins:'issue_emin'});" checked
                                                                />
                                                                <label class="form-check-label mr-1">무제한</label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="w-50 ml-2">
                                                        <p class="text-muted mb-1">노출기간 : </p>
                                                        <div class="form-inline smallFont" >
                                                        <input type="datetime-local" class="form-control form-control-sm mr-1 smallFont" id="view_sdate" name="view_sdate" required/>
                                                        <label class="form-check-label mx-2">~</label>
                                                        <input type="datetime-local" class="form-control form-control-sm mr-1 ml-2 smallFont" id="view_edate" name="view_edate" required disabled/>
                                                        
                                                        <div class="form-check ml-2">
                                                            <input
                                                                class="form-check-input smallFont"
                                                                type="checkbox"
                                                                id="view_unlimit"
                                                                onclick="endDateDisable({dates:'view_edate', hours:'view_ehour', mins:'view_emin'});" checked
                                                            />
                                                            <label class="form-check-label mr-1">무제한</label>
                                                        </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="py-3 px-4">
                                                    <p class="text-muted mb-1">사용기간 : </p>
                                                    <div class="d-flex">
                                                        <div class="form-inline smallFont">
                                                            <label class="form-check-label">
                                                                <input class="form-check-input" type="radio" name="use_date_type" value="FIX" onchange="afterOrFix(this);" checked />
                                                                기간 설정
                                                            </label>
                                                            <input type="datetime-local" class="form-control form-control-sm mr-1 ml-2 fix smallFont" id="use_sdate" name="use_sdate" required/>
                                                            
                                                            <label class="form-check-label mx-2">~</label>
                                                            <input type="datetime-local" class="form-control form-control-sm mr-1 ml-2 fix smallFont" id="use_edate" name="use_edate" required/>
                                                            
                                                            <div class="form-check ml-2">
                                                                <input
                                                                    class="form-check-input fix"
                                                                    type="checkbox"
                                                                    id="use_unlimit"
                                                                    onclick="endDateDisable({dates:'use_edate', hours:'use_ehour', mins:'use_emin'});"
                                                                />
                                                                <label class="form-check-label mr-1">무제한</label>
                                                            </div>
                                                            <label class="form-check-label ml-5">
                                                                <input class="form-check-input smallFont" type="radio" name="use_date_type" onchange="afterOrFix(this);" value="AFTER" />
                                                                발급 후
                                                            </label>
                                                            <input
                                                                type="number"
                                                                class="form-control form-control-sm ml-2 after smallFont"
                                                                name="use_after_days"
                                                                id="use_after_days"
                                                                style="width: 80px"
                                                                disabled
                                                            />
                                                            <label for="use_after_days" class="form-check-input form-check-input-sm">일 동안 사용 가능</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card" id="couponNameTab">
                                        <div class="card-header bg-blue" id="couponNameHeader">
                                            <h5 class="mb-0">
                                                <button
                                                    class="btn btn-link collapsed accordion-button btn-block text-left text-white font-weight-bold"
                                                    type="button"
                                                    data-toggle="collapse"
                                                    data-target="#couponNameOne"
                                                    aria-expanded="false"
                                                    aria-controls="couponNameOne"
                                                    style="padding: 0; opacity:1;" 
                                                >
                                                    <i class="fas fa-id-card mr-2"></i>쿠폰명
                                                </button>
                                            </h5>
                                        </div>
                                        <div id="couponNameOne" class="collapse" aria-labelledby="couponNameHeader" data-parent="#accordion">
                                            <div class="border rounded-bottom">
                                                <%-- <p class="text-white bg-blue py-2 px-3 font-weight-bold" style="font-size:1.2rem;margin-bottom:0;">쿠폰명</p> --%>
                                                <div class="d-flex py-3 px-5">
                                                    <div class="w-50">
                                                        <p class="text-muted mb-1">쿠폰명 : </p>
                                                        <div class="input-group input-group-sm lgSelect">
                                                            <input type="text" name="coupon_name" class="form-control form-control-sm" aria-label="Small" aria-describedby="couponname_span" placeholder="고객에게 노출되는 이름입니다" required>
                                                            <div class="input-group-append">
                                                                <span class="input-group-text" id="couponname_span"><span>0/80</span></span>
                                                            </div>
                                                        </div>
                                                        <p class="mb-0 mt-1 text-danger" style="font-size:.8rem">📢 실제로 고객에게 노출되는 부분입니다</p>
                                                    </div>
                                                    <div class="w-50">
                                                        <p class="text-muted mb-1">쿠폰설명 : </p>
                                                        <div class="input-group input-group-sm lgSelect">
                                                            <input type="text" name="comment" id="comment" class="form-control form-control-sm" aria-label="Small" aria-describedby="comment_span" placeholder="쿠폰명과 함께 표시되는 설명입니다" required>
                                                            <div class="input-group-append">
                                                                <span class="input-group-text" id="comment_span"><span>0/80</span></span>
                                                            </div>
                                                        </div>
                                                        <p class="mb-0 mt-1 text-danger" style="font-size:.8rem">📢 실제로 고객에게 노출되는 부분입니다</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>                     
                                
                                
                                
                            </form>
                            <div class="text-center" style="padding:0 35%;"><button class="btn btn-blue w-100 mt-4 py-2" id="test">쿠폰생성</button></div>
                            <%-- goods_modal --%>
							<div class="modal fade" id="goods_setting_modal" tabindex="-1" role="dialog" aria-labelledby="goods_setting_modal_title" aria-hidden="true">
								<div class="modal-dialog modal-lg modal-dialog-scrollable" role="document">
									<div class="modal-content" style="border:0;">
										<div class="modal-header" style="padding:0.5rem; border:0;">
											<h5 class="modal-title pl-2 text-muted" id="goods_setting_modal_title" style="font-size: 1.45rem;font-weight: bold;">상품선택</h5>
											<button type="button" class="close" data-dismiss="modal" aria-label="Close">
												<i class="bi bi-x-circle-fill text-muted" style="font-size:1.85rem;"></i>
											</button>
										</div>
										<div class="modal-body" id="goods_setting_modal_body" style="padding:0;">
											<%-- <table class="table table-bordered text-center mt-3" id="goods_search_table">
												<tbody>
													<tr>
														<th scope="row" class="bg-blue text-white" style="width: 140px">검색 기간</th>
														<td>
															<div class="d-flex" style="max-width: 150px">
																<input class="form-control form-control-sm mr-1" type="date" name="sdate" id="sdate" />
																~
																<input class="form-control form-control-sm ml-1" type="date" name="edate" id="edate" />
															</div>
														</td>
													</tr>
													<tr>
														<th scope="row" class="bg-blue text-white" style="width: 140px">상품 분류</th>
														<td>
															<div class="d-flex">
																<!-- 대분류 -->
																<div class="d-flex" style="width: 33%">
																	<label class="form-text" style="white-space: nowrap; font-size: 0.8rem" for="">대분류:</label>
																	<select name="xcode" id="xcode" class="form-control form-control-sm ml-2"></select>
																</div>
																<!-- 중분류 -->
																<div class="d-flex ml-3" style="width: 33%">
																	<label class="form-text" style="white-space: nowrap; font-size: 0.8rem" for="">중분류:</label>
																	<select name="scode" id="scode" class="form-control form-control-sm ml-2"></select>
																</div>
																<!-- 소분류 -->
																<div class="d-flex ml-3" style="width: 33%">
																	<label class="form-text" style="white-space: nowrap; font-size: 0.8rem" for="">소분류:</label>
																	<select name="scode" id="scode" class="form-control form-control-sm ml-2"></select>
																</div>
															</div>
														</td>
													</tr>
													<tr>
														<th scope="row" class="bg-blue text-white" style="width: 140px">상품 검색</th>
														<td>
															<div class="input-group">
																<input
																	type="text"
																	id="goods_search_input"
																	class="form-control form-control-sm"
																	style="max-width: 280px"
																	placeholder="상품명 or 상품카테 or 가상카테 입력 가능"
																/>
															</div>
														</td>
													</tr>
												</tbody>
											</table>
											<div class="text-center"><button class="btn btn-blue px-5" id="goods_search_get_result">검색</button></div>
											<div class="d-flex" id="goods_return_options_wrapper">
												<div>
													<span id="goods_count">총 0개 상품 검색됨</span>
												</div>
												<div class="ml-auto d-flex">
													<select class="form-control form-control-sm mr-2" name="goods_sort" id="goods_sort" style="width: 100px">
													</select>
													<select class="form-control form-control-sm" id="goods_row_view_option" name="goods_row_view_option" style="width: 100px">
													</select>
												</div>
											</div>
											<table class="table table-striped table-hover table-sm mt-3 text-center" id="goods_return_table">
												<thead id="goods_return_table_thead">
													<th class="bg-blue text-white">
														<input type="checkbox" name="goods_return_checkall" id="goods_return_checkall" />
													</th>
													<th class="bg-blue text-white">이미지</th>
													<th class="bg-blue text-white">상품명</th>
													<th class="bg-blue text-white">공급가</th>
													<th class="bg-blue text-white">판매가</th>
													<th class="bg-blue text-white">재고</th>
												</thead>
												<tbody id="goods_return_table_tbody">
													<tr>
														<th>
															<input type="checkbox" class="custom-control" style="margin: 0 auto" />
														</th>
														<th>
															<div><img src="/IMG/4.jpg" alt="ss" width="80px" /></div>
														</th>
														<th>goods</th>
														<th>price</th>
														<th>price2</th>
														<th>stock</th>
													</tr>
													<tr>
														<th>
															<input type="checkbox" class="custom-control" style="margin: 0 auto" />
														</th>
														<th>img</th>
														<th>goods</th>
														<th>price</th>
														<th>price2</th>
														<th>stock</th>
													</tr>
												</tbody>
											</table>
											<nav aria-label="Page navigation">
												<ul class="pagination justify-content-center mt-4">
													<li class="page-item">
														<a class="page-link" href="#" aria-label="first" id="goods_pagination_first" title="맨 처음 페이지로 이동">
															<i class="bi bi-chevron-double-left text-blue"></i>
														</a>
													</li>
													<li class="page-item">
														<a class="page-link" href="#" aria-label="Previous" id="goods_pagination_prev" title="이전 페이지로 이동">
															<i class="bi bi-chevron-left text-blue"></i>
														</a>
													</li>
													<li class="page-item"><a class="page-link" href="#">1</a></li>
													<li class="page-item">
														<a class="page-link" href="#" aria-label="Next" id="goods_pagination_next" title="다음 페이지로 이동">
															<i class="bi bi-chevron-right text-blue"></i>
														</a>
													</li>
													<li class="page-item">
														<a class="page-link" href="#" aria-label="Next" id="goods_pagination_last" title="맨 마지막 페이지로 이동">
															<i class="bi bi-chevron-double-right text-blue"></i>
														</a>
													</li>
												</ul>
											</nav>
										</div>
										<div class="d-flex mt-3" style="border:0;">
											<button type="button" class="btn w-50 btn-secondary" style="border-radius:0; padding:.6rem 1rem;" data-dismiss="modal">닫기</button>
											<button type="button" id="goods_adapt" class="btn w-50 btn-blue" style="border-radius:0; padding:.6rem 1rem;">적용</button>
										</div> --%>
										</div>
									</div>
								</div>
							</div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fade" id="coupongives" role="tabpanel" aria-labelledby="coupongiveTab">
                    <div id="collapseOne" >
                        <div class="card card-body" style="border-top: none">
                            <%-- <div class="d-flex">
                                <div class="lgFont mb-2"><i class="bi bi-card-checklist text-blue mr-2"></i>쿠폰 리스트</div>
                                <div class="ml-auto">
                                    <button class="btn btn-blue mr-2 btn-sm" id="reloadCouponTable">새로고침</button>
                                    <button class="btn btn-blue mr-2 btn-sm" id="issueCoupon" >쿠폰 지급하기</button>
                                    <button class="btn btn-red btn-sm" id="groupSelect">선택한 그룹으로 메시지 전송</button>
                                </div>
                            </div> --%>
                            <table class="table" id="couponRenderTable" style="width: 100%">
                                <thead>
                                    <tr>
                                        <th>쿠폰번호</th>
                                        <%--
                                        <th>상태</th>
                                        --%>
                                        <th>생성일</th>
                                        <th>추천쿠폰여부</th>
                                        <%--
                                        <th>발급방식</th>
                                        메이크샵 어드민에는 있지만, 우리는 수동발급만 지원하기 때문에 안넣음--%>
                                        <th>쿠폰명</th>
                                        <th>유형</th>
                                        <th>쿠폰혜택</th>
                                        <th>사용가능기간</th>
                                        <th>상세정보</th>
                                        <th>삭제</th>
                                    </tr>
                                </thead>
                            </table>
                        </div>
                    </div>
                </div>
                <%-- <div class="tab-pane fade" id="msgSends" role="tabpanel" aria-labelledby="msgSendTab">
                    <div id="collapseThree" >
                        <div class="card card-body" style="border-top:none;">
                            <header id="messaging-header" class="d-flex flex-row align-items-end mb-4">
                                <span id="open-messaging-btn" class="lgFont mr-4" style="cursor: pointer"
                                    ><i class="bi bi-chat-dots-fill text-blue mr-2"></i>메시징 발송</span
                                >
                                <span id="open-manage-btn" class="mediFont mr-4" style="cursor: pointer; line-height: 1.9">메시징 관리</span>
                                <span id="open-history-btn" class="mediFont mr-4" style="cursor: pointer; line-height: 1.9">발송 내역 확인</span>
                                <span class="ml-auto">
                                    <button id="point-refresh" type="button" class="btn btn-sm bg-transparent">
                                        <img src="/iframe-rsc/MESSAGING/IMG/static.png" id="loadingBtns" style="width: 19px; padding-bottom: 2px" />
                                        잔액
                                        <span class="font-weight-bold ml-1" id="remain-point"></span><span class="font-weight-bold">원</span>
                                    </button>
                                </span>
                                <button id="charge-btn" type="button" class="btn btn-secondary btn-sm ml-3">충전</button>
                            </header>
                            <div id="nc-message-app"></div>
                        </div>
                    </div>
                </div>    --%>
            </div>
             <%-- modal --%>
            <div
                id="couponInfoModal"
                class="modal fade"
                tabindex="-1"
                role="dialog"
                aria-labelledby="exampleModalCenterTitle"
                aria-hidden="true"
            >
                <div class="modal-dialog modal-lg modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header bg-blue text-white" style="padding: 0.5rem 0.7rem">
                            <h5 class="modal-title text-white" id="modalTitle" style="font-size: 1.1rem; line-height: 1.9; margin-left: 8px">쿠폰정보</h5>
                            <div data-dismiss="modal" aria-label="Close">
                                <%-- <span aria-hidden="true">&times;</span> --%>
                                <i class="bi bi-x" style="cursor: pointer; font-size: 1.4rem; color: #fff"></i>
                            </div>
                        </div>
                        <div class="modal-body">
                            <table class="table table-bordered">
                                <tbody id="modalTbody">
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div id="messaging-modal" class="modal" tabindex="-1" role="dialog" data-keyboard="false" data-backdrop="static" aria-labelledby="messaging-modal-title" aria-hidden="true">
                <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
                    <div class="modal-content">
                        <div class="modal-header bg-blue text-white" style="padding: 0.5rem 0.7rem">
                            <h5 class="modal-title text-white" id="messaging-modal-title" style="font-size: 1.1rem; line-height: 1.9; margin-left: 8px">쿠폰 지급 결과</h5>
                            <div data-dismiss="modal" aria-label="Close">
                                <i class="bi bi-x" style="cursor: pointer; font-size: 1.4rem; color: #fff"></i>
                            </div>
                        </div>
                        <div class="modal-body">
                            <div id="message-area" style="display: none;">
                                <header id="messaging-header" class="d-flex flex-row align-items-end mb-4">
                                    <span id="open-messaging-btn" class="lgFont mr-4" style="cursor: pointer">
                                        <i class="bi bi-chat-dots-fill text-blue mr-2"></i>메시징 발송
                                    </span>
                                    <span id="open-manage-btn" class="mediFont mr-4" style="cursor: pointer; line-height: 1.9">메시징 관리</span>
                                    <span id="open-history-btn" class="mediFont mr-4" style="cursor: pointer; line-height: 1.9">발송 내역 확인</span>
                                    <span class="ml-auto">
                                        <button id="point-refresh" type="button" class="btn btn-sm bg-transparent">
                                            <img src="/iframe-rsc/MESSAGING/IMG/static.png" id="loadingBtns" style="width: 19px; padding-bottom: 2px" />
                                            잔액
                                            <span class="font-weight-bold ml-1" id="remain-point"></span><span class="font-weight-bold">원</span>
                                        </button>
                                    </span>
                                    <a href="#" onclick='window.open("${DCENTER_SERVER}/ninecube/ninecube-messaging");return false;' class="btn btn-secondary btn-sm ml-3">충전</a>
                                </header>
                                <div id="nc-message-app"></div>
                            </div>
                            <div id="give-result-area">
                                <div>
                                    <p>
                                        <b>지급 시도 수 : </b><span id="give-try-count" class="text-danger"></span>명 <br/>
                                        <b>지급 성공 수 : </b><span id="give-success-count" class="text-danger"></span>명 <br/>
                                    </p>
                                    <p>
                                        지급 성공한 고객들 중 SMS 수신 허용 고객  <span id="receivable-count" class="text-danger"></span>명에게
                                        메시지를 전송할 수 있습니다.
                                    </p>
                                </div>
                                <div class="d-flex">
                                    <table id="give-fail-users-table" class="bordered" style="width: 100%;"></table>
                                    <table id="unreceivable-users-table" class="bordered" style="width: 100%;"></table>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-red mr-2" data-dismiss="modal">취소</button>
                                    <button id="try-messaging-btn" type="button" class="btn btn-blue">메시지 보내기</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="loadingModal" class="modal" data-keyboard="false" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true" style="z-index:9988; background-color: #00000025">
                <div class="modal-dialog modal-lg modal-dialog-centered">
                    <div style="width:100%; overflow:hidden;">                                           
                        <div class="happy">
                            <div class="circle circle-1"></div>
                            <div class="circle circle-2"></div>
                            <div class="circle circle-3"></div>
                            <div class="circle circle-4"></div>
                            <div class="circle circle-5"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

        <!-- Extensions Library (this will be hosted on a CDN eventually) -->
        <!-- <script src="../../lib/tableau.extensions.1.latest.js"></script> -->

        <script src="/tableau_extension/tableau.extensions.1.latest.js"></script>

        <%-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> --%>
        <%-- <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script> --%>
        <script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
        <script src="https://cdn.datatables.net/1.10.21/js/dataTables.bootstrap4.min.js"></script>
        <script src="https://cdn.datatables.net/select/1.3.1/js/dataTables.select.min.js"></script>
        <script src="https://cdn.datatables.net/buttons/1.5.2/js/dataTables.buttons.min.js"></script>
        <script src="https://cdn.datatables.net/buttons/1.5.2/js/buttons.html5.min.js"></script>
        <%-- <script type="text/javascript" src="/iframe-rsc/COUPONCREATE/JS/dataTables.checkboxes.min.js"></script> --%>
        <script src="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.6.1/js/bootstrap4-toggle.min.js"></script>
        <%-- script --%>
        <script type="text/javascript" src="${NC_MSG_SERVER}/js/chunk-vendors.js"></script>
        <script type="text/javascript" src="${NC_MSG_SERVER}/js/app.js"></script>
        <script src="/tableau_extension/msgSendExtension.js"></script>
        <script src="/tableau_extension/couponcreate_create_append_extension.js"></script>
        <script type="text/javascript" src="https://uicdn.toast.com/tui.pagination/v3.4.0/tui-pagination.js"></script>
        <%-- <script src="/tableau_extension/couponcreate_create_extension.js"></script> --%>
        <script src="/tableau_extension/couponcreate_create_extension_test.js"></script>
        <script src="/tableau_extension/couponcreate_couponchoice_extension.js"></script>
        <script src="/tableau_extension/couponcreate_groupload_extension.js"></script>
    </body>
</html>
